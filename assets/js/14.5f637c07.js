(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{368:function(_,v,t){"use strict";t.r(v);var o=t(42),a=Object(o.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h1",{attrs:{id:"autosar"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#autosar"}},[_._v("#")]),_._v(" Autosar")]),_._v(" "),t("hr"),_._v(" "),t("blockquote",[t("p",[_._v("Recorder：liuwanqiang\t20201013")])]),_._v(" "),t("h2",{attrs:{id:"_1代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1代码"}},[_._v("#")]),_._v(" 1代码")]),_._v(" "),t("ul",[t("li",[_._v("核心代码")])]),_._v(" "),t("blockquote",[t("p",[_._v("核心代码是不动的，如果因项目不同，改变的是配置代码")])]),_._v(" "),t("ul",[t("li",[_._v("配置代码")])]),_._v(" "),t("blockquote",[t("p",[_._v("配置代码是由配置工具，配置生成的")])]),_._v(" "),t("h2",{attrs:{id:"_2通信"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2通信"}},[_._v("#")]),_._v(" 2通信")]),_._v(" "),t("p",[_._v("通信CAN::Canif ->COM::PudR->COM::Com")]),_._v(" "),t("p",[_._v("诊断CAN::Canif->CAN::CanTp->COM::PduR->DIAG::DCM")]),_._v(" "),t("blockquote",[t("p",[_._v("收到报文后，经过一系列接受到达DCM，DCM判断自己是否处于空闲状态，如果是，那么就接受，否则丢弃该帧")])]),_._v(" "),t("p",[_._v("CAN::Canif")]),_._v(" "),t("blockquote",[t("p",[_._v("长度检查：>8以后传给CanTp解包")]),_._v(" "),t("p",[_._v("​\t\t\t\t  <8给PduR，如果不是网络管理，给Com")])]),_._v(" "),t("p",[_._v("CAN::CanTp")]),_._v(" "),t("blockquote",[t("p",[_._v("长报文的拆包和解包，针对诊断报文")])]),_._v(" "),t("p",[_._v("COM::Com")]),_._v(" "),t("blockquote",[t("p",[_._v("信号拆包，比如收到通信信号，拆包，收到短报文以后，比如收到一个信号8字节，把每一个字节解析出来，信号解析")])]),_._v(" "),t("blockquote",[t("p",[_._v("不能做数据转换，解析出来的是总线值，物理值。")])]),_._v(" "),t("blockquote",[t("p",[_._v("超时时间：Com收到后就直接置位、收不到就超时，每个报文都有单独的时间确认接口")])]),_._v(" "),t("p",[_._v("DIAG::Dem")]),_._v(" "),t("blockquote",[t("p",[_._v("（故障）超时恢复")])]),_._v(" "),t("p",[_._v("诊断外发：")]),_._v(" "),t("blockquote",[t("p",[_._v("DIAG::DCM告诉COM::PduR要发数据，告诉CAN::CanTp")]),_._v(" "),t("p",[_._v("CAN::Cantp找PduR要数据，COM::PduR找DIAG::DCM要数据，当DIAG::DCM把数据给了以后，CanTp就发送。")])]),_._v(" "),t("p",[_._v("CAN::CanSM")]),_._v(" "),t("blockquote",[t("p",[_._v("状态管理，通信开始时候就已经将你的CAN状态设置为启动或者休眠状态")])]),_._v(" "),t("p",[_._v("CAN::CanNM")]),_._v(" "),t("blockquote",[t("p",[_._v("CAN网络管理：")]),_._v(" "),t("p",[_._v("CAN间接网络管理：")]),_._v(" "),t("p",[_._v("CAN直接网络管理（OSEK）：")])]),_._v(" "),t("blockquote",[t("p",[_._v("配置网络管理需要考虑报文滤波：底层CAN驱动配置，确保掩码能保证网络管理报文能够收到。确保不被过滤到")])]),_._v(" "),t("blockquote",[t("p",[_._v("总线收到网络管理报文比如：0x400，底层驱动收到后给到Canif，当Canif收到后会给CanNM，然后收到报文后会启动一个时间参数，与总线上其余控制器同步进入休眠状态")])]),_._v(" "),t("h2",{attrs:{id:"_3-诊断"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-诊断"}},[_._v("#")]),_._v(" 3.诊断")]),_._v(" "),t("p",[_._v("Dcm")]),_._v(" "),t("blockquote"),_._v(" "),t("p",[_._v("Dem")]),_._v(" "),t("blockquote",[t("p",[_._v("DTC管理")])]),_._v(" "),t("p",[_._v("Det")]),_._v(" "),t("blockquote",[t("p",[_._v("推荐使能，方便调试开发，集成好了以后可以关掉，省下存储空间，但是相当有限")])]),_._v(" "),t("blockquote",[t("p",[_._v("方便调试用，报的错误不是故障，会报那个函数接口出错，哪个模块出错")])]),_._v(" "),t("p",[_._v("Fm（没有的）")]),_._v(" "),t("blockquote",[t("p",[_._v("BswM接收来自Dcm的状态，比如28关闭通信，那么BswM调用Com接口，关闭接受，发送")])]),_._v(" "),t("h2",{attrs:{id:"_4-配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置"}},[_._v("#")]),_._v(" 4.配置")]),_._v(" "),t("p",[_._v("CanTp")]),_._v(" "),t("blockquote",[t("p",[_._v("填充字节")])]),_._v(" "),t("blockquote",[t("p",[_._v("填充与否")])]),_._v(" "),t("p",[_._v("Canif")]),_._v(" "),t("blockquote",[t("p",[_._v("Busoff快慢恢复")]),_._v(" "),t("p",[_._v("busoff恢复不经过应用层，在基础软件完成")])]),_._v(" "),t("blockquote",[t("p",[_._v("关联故障")])]),_._v(" "),t("p",[_._v("PduR")]),_._v(" "),t("blockquote",[t("p",[_._v("Pdu dlc")])])])}),[],!1,null,null,null);v.default=a.exports}}]);